

<div align="center">

# ğŸš€ ReqNest  
### *Transform Ideas into Production APIs in Minutes*

![Version](https://img.shields.io/badge/version-1.0.0-blueviolet?style=for-the-badge)
![License](https://img.shields.io/badge/license-MIT-purple?style=for-the-badge)
![Build](https://img.shields.io/badge/build-passing-brightgreen?style=for-the-badge)
![Kubernetes](https://img.shields.io/badge/Kubernetes-ready-326CE5?style=for-the-badge&logo=kubernetes)
![Docker](https://img.shields.io/badge/Docker-ready-2496ED?style=for-the-badge&logo=docker)
![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen?style=for-the-badge)

</div>

<img src="images/home.png" width="100%"/>

---

# ğŸ¬ What is ReqNest?

**ReqNest** is a cloud-native backend automation platform that generates **real backend APIs** from your schema instantly.  
Think of it as:

### **âš¡ Vercel + Firebase + Swagger + Postman + Backend-as-a-Service (BaaS)**

Where **your models â†’ instantly become production APIs**:

- REST  
- GraphQL  
- WebSockets  
- Real-time updates  
- SDKs  
- Authentication  
- Documentation  

All generated automatically.

---

# ğŸ§© Architecture Overview

```

React (Frontend) â”€â”€â–º Nginx â”€â”€â–º Ingress â”€â”€â–º Spring Boot (Backend)
â”‚               â”œâ”€â–º MySQL
â”‚               â”œâ”€â–º MongoDB
Public HTTPS (Ngrok) â”€â”˜               â””â”€â–º Redis

````

### **Key Highlights**
- Runtime configuration using `config.js`
- Secure OAuth2 login (Google)
- Fully containerized for Kubernetes
- Ngrok integration for public HTTPS (local dev)
- Works on **Kind**, **Minikube**, and **Cloud K8s**

---

# âœ¨ Why Developers Love ReqNest

<div align="center">

| ğŸ¨ AI Schema Builder | âš¡ Instant CRUD | ğŸ” OAuth2 + JWT | ğŸ“š Auto Docs |
|---|---|---|---|
| Generate models from plain English | Create REST/GraphQL instantly | Google OAuth2 out of the box | Swagger + SDKs |

</div>

---

# ğŸš€ Quick Start

# ğŸŸ¦ **Option 1 â€” Run with Docker Compose**

Perfect for local development.

### â¤ Run all services:

```bash
docker compose up --build
````

### Services:

* Frontend â†’ [http://localhost:3000](http://localhost:3000)
* Backend â†’ [http://localhost:8080](http://localhost:8080)
* MySQL â†’ 3306
* MongoDB â†’ 27017
* Redis â†’ 6379

---

# ğŸŸ© **Option 2 â€” Run with Kubernetes (Kind)**

### 1ï¸âƒ£ Create Kind cluster

```bash
kind create cluster --name reqnest
```

### 2ï¸âƒ£ Install Nginx Ingress

```bash
kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/cloud/deploy.yaml
```

### 3ï¸âƒ£ Deploy all services

```bash
kubectl apply -f k8s/
```

Your services:

```
frontend      : NodePort 30000
backend       : ClusterIP
mysql         : ClusterIP
mongo         : ClusterIP
redis         : ClusterIP
ingress       : /, /api, /oauth2, /login/oauth2
```

---

# ğŸŒ **Expose Your App Online (Ngrok)**

### Port-forward ingress:

```bash
kubectl port-forward -n ingress-nginx svc/ingress-nginx-controller 8080:80
```

### Start ngrok:

```bash
ngrok http http://localhost:8080
```

You get:

```
https://xxxxx.ngrok-free.dev
```

Use this URL for:

* Frontend
* Backend
* Google OAuth redirect
* ConfigMap

---

# ğŸ” **Google OAuth2 Setup**

### Required Redirect URI:

```
https://<ngrok-domain>/login/oauth2/code/google
```

### Authorized JavaScript Origin:

```
https://<ngrok-domain>
```

### Authorized Domain:

```
<ngrok-domain>
```

---

# ğŸ”§ Backend Configuration (Spring Boot)

File: `application.yml`

```yaml
server:
  forward-headers-strategy: framework

spring:
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_ID}
            client-secret: ${GOOGLE_SECRET}
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
```

This ensures Spring Boot uses **ngrokâ€™s HTTPS** instead of HTTP.

---

# ğŸ¨ Frontend Runtime ENV (config.js)

ReqNest frontend uses **runtime environment variables** so no rebuild needed.

### `/usr/share/nginx/html/config.js` is generated at container start:

```js
window._env_ = {
  VITE_API_URL: "<your-ngrok-url>/api"
};
```

### Generated by `entrypoint.sh`:

```sh
#!/bin/sh
echo "window._env_ = {" > /usr/share/nginx/html/config.js
echo "  VITE_API_URL: \"$VITE_API_URL\"" >> /usr/share/nginx/html/config.js
echo "};" >> /usr/share/nginx/html/config.js

exec nginx -g 'daemon off;'
```

---

# ğŸ§± Nginx Config (Frontend)

File: `nginx.conf`

```nginx
server {
    listen 80;
    server_name _;

    root /usr/share/nginx/html;
    index index.html;

    location = /config.js {
        try_files $uri =404;
    }

    location /assets/ {
        try_files $uri =404;
    }

    location / {
        try_files $uri /index.html;
    }
}
```

---

# ğŸ›œ Ingress Routing (Final Working Setup)

```yaml
/api            â†’ backend:8080
/login/oauth2   â†’ backend:8080
/oauth2         â†’ backend:8080
/               â†’ frontend:80
```

Ingress file:

```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: reqnest-ingress
  namespace: reqnest
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "false"
spec:
  ingressClassName: nginx
  rules:
    - http:
        paths:
          - path: /api
            pathType: Prefix
            backend:
              service:
                name: backend
                port:
                  number: 8080
          - path: /login/oauth2
            pathType: Prefix
            backend:
              service:
                name: backend
                port:
                  number: 8080
          - path: /oauth2
            pathType: Prefix
            backend:
              service:
                name: backend
                port:
                  number: 8080
          - path: /
            pathType: Prefix
            backend:
              service:
                name: frontend
                port:
                  number: 80
```

---

# ğŸ“‚ Folder Structure

```
reqnest/
 â”œâ”€â”€ frontend/
 â”‚    â”œâ”€â”€ public/
 â”‚    â”œâ”€â”€ src/
 â”‚    â”œâ”€â”€ nginx.conf
 â”‚    â”œâ”€â”€ entrypoint.sh
 â”‚    â””â”€â”€ Dockerfile
 â”œâ”€â”€ backend/
 â”‚    â”œâ”€â”€ src/
 â”‚    â”œâ”€â”€ application.yml
 â”‚    â””â”€â”€ Dockerfile
 â”œâ”€â”€ k8s/
 â”‚    â”œâ”€â”€ mysql.yml
 â”‚    â”œâ”€â”€ mongo.yml
 â”‚    â”œâ”€â”€ redis.yml
 â”‚    â”œâ”€â”€ backend-deployment.yml
 â”‚    â”œâ”€â”€ frontend-deployment.yml
 â”‚    â””â”€â”€ ingress.yml
 â”œâ”€â”€ docker-compose.yml
 â””â”€â”€ README.md
```

---

# ğŸ§ª Health Checks

### Frontend:

```
https://<ngrok>/config.js
https://<ngrok>/
```

### Backend:

```
https://<ngrok>/api/health
```

### OAuth:

```
https://<ngrok>/oauth2/authorization/google
```

---

# ğŸ›  Troubleshooting

### âŒ Google Redirect Mismatch

Fix by adding:

```
server.forward-headers-strategy: framework
```

### âŒ `/config.js` 404

Your nginx.conf is missing:

```
location = /config.js
```

### âŒ 500 on frontend root

Nginx recursion â€” fix try_files:

```
try_files $uri /index.html;
```

### âŒ Ngrok not working

Restart:

```
ngrok http http://localhost:8080
```

Add new domain to Google Console.

---

# ğŸ“ Contact

**Website:** [https://reqnest.com](https://reqnest.com)
**Support:** [support@reqnest.com](mailto:support@reqnest.com)
**Discord:** [https://discord.gg/reqnest](https://discord.gg/reqnest)

---

<div align="center">

### ğŸš€ Ready to 10x Your Backend Development?

[![Get Started](https://img.shields.io/badge/Start_Free-Now-green?style=for-the-badge)](https://app.reqnest.com/signup)

**Built with â¤ï¸ for developers**

</div>
```
